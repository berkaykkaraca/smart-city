{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaancakir/smart-city/smart-city-app/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { FormEvent, useEffect, useState } from \"react\";\n\ntype TrafficEvent = {\n  id: number;\n  sensor_id: string;\n  location: string;\n  vehicle_count: number;\n  average_speed_kmh: number;\n  created_at: string;\n};\n\nexport default function Home() {\n  const [events, setEvents] = useState<TrafficEvent[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [creating, setCreating] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const [sensorId, setSensorId] = useState(\"sensor-1\");\n  const [location, setLocation] = useState(\"Main St & 3rd Ave\");\n  const [vehicleCount, setVehicleCount] = useState(10);\n  const [avgSpeed, setAvgSpeed] = useState(40);\n\n  async function fetchEvents() {\n    try {\n      setLoading(true);\n      setError(null);\n      const res = await fetch(\"/api/traffic\", { cache: \"no-store\" });\n      if (!res.ok) {\n        throw new Error(\"Failed to load events\");\n      }\n      const data = await res.json();\n      setEvents(data);\n    } catch (err: any) {\n      setError(err.message || \"Unknown error\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    fetchEvents();\n  }, []);\n\n  async function handleSubmit(e: FormEvent) {\n    e.preventDefault();\n    try {\n      setCreating(true);\n      setError(null);\n      const res = await fetch(\"/api/traffic\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          sensor_id: sensorId,\n          location,\n          vehicle_count: vehicleCount,\n          average_speed_kmh: avgSpeed,\n        }),\n      });\n      if (!res.ok) {\n        const data = await res.json().catch(() => ({}));\n        throw new Error(data.detail || \"Failed to create event\");\n      }\n      await fetchEvents();\n    } catch (err: any) {\n      setError(err.message || \"Unknown error\");\n    } finally {\n      setCreating(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 text-slate-50\">\n      <main className=\"mx-auto flex max-w-5xl flex-col gap-8 px-4 py-10\">\n        <header className=\"flex flex-col gap-2 border-b border-slate-800 pb-4\">\n          <h1 className=\"text-3xl font-semibold tracking-tight\">\n            Smart City Traffic Dashboard\n          </h1>\n          <p className=\"max-w-2xl text-sm text-slate-300\">\n            Django REST API + Google Pub/Sub backend, visualized with a Next.js\n            frontend. Use the form below to send synthetic traffic data into the\n            system.\n          </p>\n        </header>\n\n        <section className=\"grid gap-8 md:grid-cols-[minmax(0,2fr)_minmax(0,3fr)]\">\n          <form\n            onSubmit={handleSubmit}\n            className=\"space-y-4 rounded-xl border border-slate-800 bg-slate-900/60 p-5 shadow-lg shadow-slate-950/40\"\n          >\n            <h2 className=\"text-lg font-medium\">Send traffic event</h2>\n\n            <div className=\"space-y-1 text-sm\">\n              <label className=\"block text-slate-300\" htmlFor=\"sensorId\">\n                Sensor ID\n              </label>\n              <input\n                id=\"sensorId\"\n                className=\"w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm outline-none ring-0 focus:border-sky-400 focus:ring-1 focus:ring-sky-500\"\n                value={sensorId}\n                onChange={(e) => setSensorId(e.target.value)}\n              />\n            </div>\n\n            <div className=\"space-y-1 text-sm\">\n              <label className=\"block text-slate-300\" htmlFor=\"location\">\n                Location\n              </label>\n              <input\n                id=\"location\"\n                className=\"w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm outline-none ring-0 focus:border-sky-400 focus:ring-1 focus:ring-sky-500\"\n                value={location}\n                onChange={(e) => setLocation(e.target.value)}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div className=\"space-y-1\">\n                <label className=\"block text-slate-300\" htmlFor=\"vehicleCount\">\n                  Vehicle count\n                </label>\n                <input\n                  id=\"vehicleCount\"\n                  type=\"number\"\n                  min={0}\n                  className=\"w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm outline-none ring-0 focus:border-sky-400 focus:ring-1 focus:ring-sky-500\"\n                  value={vehicleCount}\n                  onChange={(e) => setVehicleCount(Number(e.target.value))}\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"block text-slate-300\" htmlFor=\"avgSpeed\">\n                  Avg speed (km/h)\n                </label>\n                <input\n                  id=\"avgSpeed\"\n                  type=\"number\"\n                  min={0}\n                  className=\"w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm outline-none ring-0 focus:border-sky-400 focus:ring-1 focus:ring-sky-500\"\n                  value={avgSpeed}\n                  onChange={(e) => setAvgSpeed(Number(e.target.value))}\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={creating}\n              className=\"inline-flex items-center justify-center rounded-full bg-sky-500 px-4 py-2 text-sm font-medium text-slate-950 transition hover:bg-sky-400 disabled:cursor-not-allowed disabled:opacity-60\"\n            >\n              {creating ? \"Sending...\" : \"Send event\"}\n            </button>\n            <button\n              type=\"button\"\n              onClick={fetchEvents}\n              className=\"ml-2 inline-flex items-center justify-center rounded-full border border-slate-600 px-4 py-2 text-sm font-medium text-slate-100 transition hover:border-sky-500 hover:text-sky-300\"\n            >\n              Refresh events\n            </button>\n\n            {error && (\n              <p className=\"pt-1 text-sm text-red-400\">Error: {error}</p>\n            )}\n          </form>\n\n          <div className=\"space-y-3 rounded-xl border border-slate-800 bg-slate-900/60 p-5 shadow-lg shadow-slate-950/40\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <h2 className=\"text-lg font-medium\">Recent events</h2>\n              {loading && (\n                <span className=\"text-xs uppercase tracking-wide text-slate-400\">\n                  Loading…\n                </span>\n              )}\n            </div>\n            {events.length === 0 ? (\n              <p className=\"text-sm text-slate-400\">\n                No events yet. Submit the form to create the first one.\n              </p>\n            ) : (\n              <ul className=\"divide-y divide-slate-800 text-sm\">\n                {events.map((ev) => (\n                  <li key={ev.id} className=\"py-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"font-medium text-slate-100\">\n                          {ev.location}\n                        </p>\n                        <p className=\"text-xs text-slate-400\">\n                          Sensor {ev.sensor_id} •{\" \"}\n                          {new Date(ev.created_at).toLocaleString()}\n                        </p>\n                      </div>\n                      <div className=\"text-right text-xs text-slate-300\">\n                        <p>{ev.vehicle_count} vehicles</p>\n                        <p>{ev.average_speed_kmh.toFixed(1)} km/h</p>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 429, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaancakir/smart-city/smart-city-app/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaancakir/smart-city/smart-city-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,sJACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaancakir/smart-city/smart-city-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,sJACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}