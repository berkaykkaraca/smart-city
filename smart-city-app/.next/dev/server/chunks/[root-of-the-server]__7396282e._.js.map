{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaancakir/smart-city/smart-city-app/src/app/api/traffic/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\n\nconst BACKEND_URL =\n  process.env.BACKEND_URL || \"http://127.0.0.1:8000\";\n\nexport async function GET() {\n  const res = await fetch(`${BACKEND_URL}/api/events/`, {\n    // This runs server-side only, so no CORS issues.\n    cache: \"no-store\",\n  });\n\n  if (!res.ok) {\n    return NextResponse.json(\n      { detail: \"Failed to fetch from backend\" },\n      { status: 502 },\n    );\n  }\n\n  const data = await res.json();\n  return NextResponse.json(data);\n}\n\nexport async function POST(req: NextRequest) {\n  const body = await req.json();\n\n  const res = await fetch(`${BACKEND_URL}/api/events/`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!res.ok) {\n    const error = await res.json().catch(() => ({}));\n    return NextResponse.json(error, { status: res.status });\n  }\n\n  const data = await res.json();\n  return NextResponse.json(data, { status: 201 });\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,cACJ,QAAQ,GAAG,CAAC,WAAW,IAAI;AAEtB,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,YAAY,YAAY,CAAC,EAAE;QACpD,iDAAiD;QACjD,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,OAAO,yLAAY,CAAC,IAAI,CACtB;YAAE,QAAQ;QAA+B,GACzC;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,yLAAY,CAAC,IAAI,CAAC;AAC3B;AAEO,eAAe,KAAK,GAAgB;IACzC,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,MAAM,MAAM,MAAM,MAAM,GAAG,YAAY,YAAY,CAAC,EAAE;QACpD,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC9C,OAAO,yLAAY,CAAC,IAAI,CAAC,OAAO;YAAE,QAAQ,IAAI,MAAM;QAAC;IACvD;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,yLAAY,CAAC,IAAI,CAAC,MAAM;QAAE,QAAQ;IAAI;AAC/C"}}]
}